"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[398],{8818:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"back",on:{click:t.goBack}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.selectStatus,expression:"!selectStatus"}],staticClass:"iconfont icon-xiangzuojiantou"})]),e("div",{staticClass:"title"},[t._t("default",(function(){return[e("span",[t._v(t._s(t.title))])]}))],2),e("div",{staticClass:"home",on:{click:function(e){return t.$router.push("/")}}},[e("img",{attrs:{src:s(2402)}})])])},o=[],a={name:"Header",props:["title","path","selectStatus"],methods:{goBack(){this.path?this.$router.push(this.path):this.$router.back()}}},r=a,n=s(1001),c=(0,n.Z)(r,i,o,!1,null,"58ef28f2",null),l=c.exports},9398:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("Header",[e("span",[t._v("登录")])]),e("main",[e("form",{attrs:{onsubmit:"return false",autocomplete:"on"}},[e("div",{staticClass:"phoneNumer"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:t.userTel},on:{input:function(e){e.target.composing||(t.userTel=e.target.value)}}})]),e("div",{staticClass:"code"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),e("button",{class:{disable:t.disabled},attrs:{disabled:t.disabled},on:{click:t.sendCode}},[t._v(" "+t._s(t.codeMsg)+" ")])]),e("div",{staticClass:"goLogin"},[e("button",{on:{click:t.goLogin}},[t._v("登录")])])]),e("div",{staticClass:"approach"},[e("div",{staticClass:"pwd",on:{click:t.byPwd}},[t._v("密码登录")]),e("div",{staticClass:"register",on:{click:t.goRegister}},[t._v("快速注册")])])])],1)},o=[],a=s(8818),r={name:"Login",components:{Header:a.Z},data(){return{userTel:"",code:"",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号不能为空，要求11位数字"}},disabled:!1,timer:null,codeMsg:"获取短信验证码",codeVerification:""}},methods:{byPwd(){this.$router.push({name:"LoginPwd"})},goRegister(){this.$router.push("/register")},sendCode(){if(!this.validate("userTel"))return;this.disabled=!0;let t=6;this.timer=setInterval((()=>{t>0?(this.codeMsg=`${t}秒后可重新发送`,t--):(t=6,this.codeMsg="获取短信验证码",this.disabled=!1,clearInterval(this.timer))}),1e3),this.$store.dispatch("Login/getCode",this.userTel).then((t=>{console.log(t.data,t),this.codeVerification=t.data,this.code=this.codeVerification})).catch((t=>{console.log(t)}))},validate(t){return!!this.rules[t].rule.test(this[t])||(this.$toast(this.rules[t].msg),!1)},goLogin(){if(this.code!=this.codeVerification)return this.$toast("验证码错误"),!1;this.$store.dispatch("Login/loginByTel",{userTel:this.userTel}).then((t=>{console.log(t),t.success?(this.$toast(t.msg),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push("/my")):this.$toast(t.msg)})).catch((t=>{console.log(t)}))}}},n=r,c=s(1001),l=(0,c.Z)(n,i,o,!1,null,"54b22de0",null),u=l.exports},2402:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEgUlEQVRoQ+2YXWhcRRiG3/d0EwKioAhFUCoqIlaxVYtiRHoTUVEv1LZeeNFfaNSLJsY9MxtiT4XszFnSRCjYqlAD4oVpRWoVQZBWxR9EIVXrRdGIWPDCX0Rkk82eT6achSXJ5pz9sUnKztUm88077zPfmW/mHGKFN65w/2gDLHUG2xm4IDMQhuHtInIvgB4AR8vl8seDg4Nf/x+wLX+ErLX7AfQvYHZMKbXQ/5viahmAMeZSkocAbAbwN4BhEfkCwHqSAYBLSB7p6OjY3d/f/0dTrqsGtwTAWnszyYMi0g3gOwC9SqmPKvNYa+8BcBDAjQA+B7BbKXWqFRBNAxQKhfvK5fLLJK8C8L6I9Gqtp+aaM8Zc4yABuL1x1vO83mw2+06zEE0BGGN2knwlNnG4WCz2BkEwU8tUEASdXV1dDmJ7HPOkUsr93XBrGMAYE5DcG8/8vFKq8jvRjLV2H4Dn4sC8UmowcVCNgLoBJiYmVk1NTb0EYAfJsntklFKVLKT2Ya3dFe+bVSLy2vT09PYgCGZTC8SBdQGMjIysmZ2ddWZ7SP4Um3+v3kmrNvf9McQaACdKpdKOoaGhH+vRSw2Qz+e7SR4meT3JT2Lz39Qz2UKxcyrY9y6z1RUsST8VgDFmC8lxAF0k34iiyFWaP5PE0/a7M8TzPFeGtwAoktzp+/7racYnAhhjniVZcGIk9/u+P5BGuJGYMAxHROSZeKxWStkknUUBjDEHSD4dm+/zff+FJMFm+8Mw3CMiY/GcL/q+/9RimgsCxCkdF5GHSf7mTlbf9482ay7t+DAMH3Mnt4hcDuB4Z2fn1lrXj3kAo6Ojl5VKpQ9EZB3Jydi8O/7PawvD8M4YYh2AU1EU9eRyuV/nmpgHEIbhlSLyM0l3zLuVP3tenVdN5rzEEKujKHoil8udSQRwAWNjY1f09fX94n4bYzaRnADQrZT6NAkmn8/f4XneLgDXVmJF5FsAb2qtTyaNN8ZcTfKEiOzTWrvKt2hLU4XOXRliQXctrtmMMbeR/LJWQCaTWTswMOBuq4tpbKwCWHS+cxs9ibBy50kDYK0NAWRdLIDq1Xam9pL8zPf9u5YzwAkAG5VS8xbGWivO+EJ91UDGmCXNQBtgSTNQOblFZFt1BTHGbCX5KoDTSqmblu0eKBQKD0ZRdLyWQRHZrLU+smwB4nPDvWbuAbC2yuikiBzTWieWxSV9hJJKcpr+NsDcVarnIEuzwkkx7QxccBkoFAoPRFH0LoBxpdS2pEeg2X5r7SiAPhF5RGv9VpJemsucu966Tx2ni8Xi3UEQ/JUk2ky/tdZ9EN7ged512Wz2hyStRAAnYK19G8BDACaVUuuTRBvtryoYh7TWvWl0UgG418yZmZnfY8GTJI+RPFMul/9NM0lSjOd5N4iI+166wcUWi8WLgyD4J2lcqveBisjw8PDqTCZzQEQ2pRFuMOYrEXlca+0+cKVqqTJQrWSMeZTkrQBuAXBRqlkSgkTkQ/finmbTzpWqG6AVhlup0QZo5Wo2otXOQCOr1soxKz4D/wFlQYxPjfnSogAAAABJRU5ErkJggg=="}}]);