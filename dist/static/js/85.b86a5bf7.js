"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[85],{85:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order"},[s("Header",{attrs:{title:"提交订单"}}),s("main",{ref:"wrapper"},[s("div",{staticClass:"content"},[s("div",{staticClass:"address"},[s("h3",[t._v("收货地址：")]),s("div",{staticClass:"addressInfo",on:{click:t.goAddress}},[t.path.isDefault?s("div",{staticClass:"info"},[s("div",{staticClass:"basic"},[t._v(t._s(t.path.name)+" "+t._s(t.path.tel))]),s("div",{staticClass:"detail"},[t._v(" "+t._s(t.path.province)+" "+t._s(t.path.city)+" "+t._s(t.path.county)+" "+t._s(t.path.addressDetail)+" ")])]):s("div",{staticClass:"info"},[t._v("选择收货地址")]),s("div",{staticClass:"arrow"},[t._v(">")])])]),s("div",{staticClass:"payment"},[t._m(0),s("ul",{staticClass:"ways"},[s("li",{class:{active:0==t.payment},on:{click:function(s){t.payment=0}}},[t._v(" 微信支付 ")]),s("li",{class:{active:1==t.payment},on:{click:function(s){t.payment=1}}},[t._v(" 支付宝支付 ")]),s("li",{class:{active:2==t.payment},on:{click:function(s){t.payment=2}}},[t._v(" 银联支付 ")]),s("li",{class:{active:3==t.payment},on:{click:function(s){t.payment=3}}},[t._v(" 货到付款 ")])])]),s("div",{staticClass:"goods"},[s("div",{staticClass:"list"},t._l(t.list,(function(t,a){return s("van-card",{key:a,attrs:{num:t.goods_num,price:t.goods_price,title:t.goods_name,thumb:t.goods_imgUrl}})})),1),t._m(1),s("div",{staticClass:"goodsPrice"},[t._v(" 合计："),s("em",[t._v("￥"+t._s(t.total.price.toFixed(2)))])])]),t._m(2),s("div",{staticClass:"bill"},[s("h3",[t._v("账单明细")]),s("div",{staticClass:"total"},[s("span",{staticClass:"title"},[t._v("订单总价")]),s("span",[t._v("￥"+t._s(t.total.price.toFixed(2)))])])])])]),s("footer",[s("div",{staticClass:"total"},[t._v(" 共 "),s("span",{staticClass:"num"},[t._v(t._s(t.total.num))]),t._v(" 件，总金额"),s("span",{staticClass:"price"},[t._v("￥"+t._s(t.total.price))])]),s("div",{staticClass:"submit",on:{click:t.submit}},[t._v("提交订单")])])],1)},e=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"headliner"},[s("h3",[t._v("支付方式：")]),s("span",[t._v("选择在线支付，随机减0-300元")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"msg"},[s("form",{attrs:{onsubmit:"return false"}},[s("input",{attrs:{type:"text",placeholder:"给卖家留言"}})])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"coupon"},[t._v("无可用优惠券 "),s("i",{staticClass:"arrow"},[t._v(">")])])}],c=a(5031),n={name:"Order",data(){return{payment:0,list:[],total:{price:0,num:0},path:{}}},mounted(){this.$nextTick((()=>{new c.ZP(this.$refs.wrapper,{movable:!0,zoom:!0,click:!0,bounce:!1,mouseWheel:!0})}))},created(){this.$store.dispatch("getAddress").then((t=>{let s=-1;t.data.forEach(((t,a)=>{"true"==t.isDefault&&(s=a)})),this.path=-1==s?{}:t.data[s]})),this.list=this.$route.query,this.$store.dispatch("getOrder").then((t=>{this.total={price:t.data[0].goods_price,num:t.data[0].goods_num}}))},activated(){this.$bus.$on("selectPath",function(t){this.path=JSON.parse(t)}.bind(this))},methods:{goAddress(){this.$router.push({path:"/address",query:{type:"select"}})},submit(){this.$store.dispatch("submitOrder").then((t=>{t.success&&this.$router.push({name:"Payment"})}))}}},r=n,l=a(1001),o=(0,l.Z)(r,i,e,!1,null,"21f212ce",null),d=o.exports}}]);