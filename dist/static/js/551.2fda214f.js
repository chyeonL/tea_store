"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[551],{2551:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"category"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],staticClass:"topbar"},[t._m(0)]),e("section",[e("div",{ref:"l",staticClass:"left"},[e("ul",t._l(t.left,(function(s,i){return e("li",{key:i,class:{active:i==t.currentIndex},on:{click:function(e){return t.goScroll(i)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),e("div",{ref:"r",staticClass:"right"},[e("div",[e("div",{staticClass:"banner"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.banner,expression:"banner"}],attrs:{alt:""}})]),t._l(t.right,(function(s,i){return e("div",{key:i,ref:"rList",refInFor:!0,staticClass:"list"},t._l(s,(function(s,i){return e("div",{key:i},[e("h2",[t._v(t._s(s.name))]),e("ul",t._l(s.list,(function(s){return e("li",{key:s.id,staticClass:"list-goods"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imgUrl,expression:"i.imgUrl"}],attrs:{alt:""}}),e("span",[t._v(t._s(s.name))])])})),0)])})),0)}))],2)])]),e("Tabbar")],1)},r=[function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"back"}),e("div",{staticClass:"search"},[t._v(" 分类 ")]),e("div",{staticClass:"home"})])}],a=s(5031),l=s(3822),n={name:"Category",data(){return{rightScroll:null,allHeight:[],height:163,scrollY:0,ind:0,showHeader:!0}},created(){this.getData()},methods:{async getData(){await this.$store.dispatch("Category/getCategory"),this.$nextTick((()=>{new a.ZP(this.$refs.l,{click:!0}),this.rightScroll=new a.ZP(this.$refs.r,{click:!0,probeType:3}),this.allHeight.push(this.height),Array.from(this.$refs.rList).forEach((t=>{this.height=this.height+t.clientHeight,this.allHeight.push(this.height)})),this.rightScroll.on("scroll",(t=>{this.scrollY=Math.abs(t.y),this.showHeader=!(this.scrollY>70)}))}))},goScroll(t){this.currentIndex=t,this.rightScroll.scrollTo(0,-this.allHeight[t],1e3)}},computed:{...(0,l.rn)("Category",["left","right","banner"]),currentIndex(){return this.allHeight.findIndex(((t,e)=>this.scrollY>=t&&this.scrollY<this.allHeight[e+1]))}}},h=n,c=s(1001),o=(0,c.Z)(h,i,r,!1,null,"02cca860",null),u=o.exports}}]);