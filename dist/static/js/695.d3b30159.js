"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[695],{8695:function(e,t,s){s.r(t),s.d(t,{default:function(){return l}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("Header",[t("span",[e._v("登录")])]),t("main",[t("form",{attrs:{onsubmit:"return false",autocomplete:"on"}},[t("div",{staticClass:"phoneNumer"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(t){t.target.composing||(e.userTel=t.target.value)}}})]),t("div",{staticClass:"code"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入短信验证码",pattern:"[0-9]*"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),t("button",{class:{disable:e.disabled},attrs:{disabled:e.disabled},on:{click:e.sendCode}},[e._v(" "+e._s(e.codeMsg)+" ")])]),t("div",{staticClass:"goLogin"},[t("button",{on:{click:e.goLogin}},[e._v("登录")])])]),t("div",{staticClass:"approach"},[t("div",{staticClass:"pwd",on:{click:e.byPwd}},[e._v("密码登录")]),t("div",{staticClass:"register",on:{click:e.goRegister}},[e._v("快速注册")])])])],1)},r=[],o={name:"Login",data(){return{userTel:"13763334852",code:"",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号不能为空，要求11位数字"}},disabled:!1,timer:null,codeMsg:"获取短信验证码",codeVerification:""}},methods:{byPwd(){this.$router.push({name:"LoginPwd"})},goRegister(){this.$router.push("/register")},sendCode(){if(!this.validate("userTel"))return;this.disabled=!0;let e=60;this.timer=setInterval((()=>{e>0?(this.codeMsg=`${e}秒后可重新发送`,e--):(e=60,this.codeMsg="获取短信验证码",this.disabled=!1,clearInterval(this.timer))}),1e3),this.codeVerification="1234",this.code=this.codeVerification},validate(e){return!!this.rules[e].rule.test(this[e])||(this.$toast(this.rules[e].msg),!1)},goLogin(){if(this.code!=this.codeVerification)return this.$toast("验证码错误"),!1;this.$mock.mockLogin().then((e=>{this.$store.commit("Login/LOGIN",e.data),this.$toast(e.msg),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push("/my")}))}}},a=o,n=s(1001),d=(0,n.Z)(a,i,r,!1,null,"54493fab",null),l=d.exports}}]);