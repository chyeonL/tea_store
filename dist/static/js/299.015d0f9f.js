"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[299],{299:function(e,s,t){t.r(s),t.d(s,{default:function(){return n}});var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login"},[s("Header",[s("span",[e._v("登录")])]),s("main",[s("form",{attrs:{onsubmit:"return false"}},[s("div",{staticClass:"phoneNumer"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userTel,expression:"userTel"}],attrs:{type:"text",placeholder:"请输入手机号",pattern:"[0-9]*"},domProps:{value:e.userTel},on:{input:function(s){s.target.composing||(e.userTel=s.target.value)}}})]),s("div",{staticClass:"pwd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userPwd,expression:"userPwd"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.userPwd},on:{input:function(s){s.target.composing||(e.userPwd=s.target.value)}}})]),s("div",{staticClass:"goLogin"},[s("button",{on:{click:e.goLogin}},[e._v("登录")])])]),s("div",{staticClass:"approach"},[s("div",{staticClass:"pwd",on:{click:e.byMsg}},[e._v("短信登录")]),s("div",{staticClass:"register",on:{click:e.goRegister}},[e._v("快速注册")])])])],1)},i=[],u={name:"Login",data(){return{userTel:"",userPwd:"",rules:{userTel:{rule:/^1[23456789]\d{9}$/,msg:"手机号要求11位数字"},userPwd:{rule:/^\w{6,12}$/,msg:"密码要求6-12位任意字符"}}}},methods:{byMsg(){this.$router.push("/login")},goRegister(){this.$router.push("/register")},goLogin(){return this.userTel?this.userPwd?void(this.validate("userTel")&&this.validate("userPwd")&&this.$store.dispatch("Login/loginByPwd",{userTel:this.userTel,userPwd:this.userPwd}).then((e=>{console.log(e),e.success?(this.$toast(e.msg),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push("/my")):this.$toast(e.msg)}))):this.$toast("请输入密码"):this.$toast("请输入手机号")},validate(e){return!!this.rules[e].rule.test(this[e])||(this.$toast(this.rules[e].msg),!1)}}},a=u,o=t(1001),l=(0,o.Z)(a,r,i,!1,null,"3a42bf6c",null),n=l.exports}}]);