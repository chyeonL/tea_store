"use strict";(self["webpackChunktea_store"]=self["webpackChunktea_store"]||[]).push([[818],{2818:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"category"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],staticClass:"topbar"},[t._v(" 分类 ")]),e("section",[e("div",{ref:"l",staticClass:"left"},[e("ul",t._l(t.left,(function(s,r){return e("li",{key:r,class:{active:r==t.currentIndex},on:{click:function(e){return t.goScroll(r)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]),e("div",{ref:"r",staticClass:"right"},[e("div",[e("div",{staticClass:"banner"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.banner,expression:"banner"}],attrs:{alt:""}})]),t._l(t.right,(function(s,r){return e("div",{key:r,ref:"rList",refInFor:!0,staticClass:"list"},t._l(s,(function(s,r){return e("div",{key:r},[e("h2",[t._v(t._s(s.name))]),e("ul",t._l(s.list,(function(s){return e("li",{key:s.id,staticClass:"list-goods"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imgUrl,expression:"i.imgUrl"}],attrs:{alt:""}}),e("span",[t._v(t._s(s.name))])])})),0)])})),0)}))],2)])]),e("Tabbar")],1)},i=[],l=s(5031),a=s(3822),n={name:"Category",data(){return{rightScroll:null,allHeight:[],height:163,scrollY:0,ind:0,showHeader:!0}},created(){this.getData()},methods:{async getData(){await this.$store.dispatch("Category/getCategory"),this.$nextTick((()=>{new l.ZP(this.$refs.l,{click:!0}),this.rightScroll=new l.ZP(this.$refs.r,{click:!0,probeType:3,mouseWheel:!0,bounce:!1}),this.allHeight.push(this.height),Array.from(this.$refs.rList).forEach((t=>{this.height+=t.clientHeight,this.allHeight.push(this.height)})),this.rightScroll.on("scroll",(t=>{console.log(t),this.scrollY=Math.abs(t.y),this.showHeader=!(this.scrollY>70)}))}))},goScroll(t){this.currentIndex=t,this.rightScroll.scrollTo(0,-this.allHeight[t],1e3)}},computed:{...(0,a.rn)("Category",["left","right","banner"]),currentIndex(){return this.allHeight.findIndex(((t,e)=>this.scrollY>=t&&this.scrollY<this.allHeight[e+1]))}}},h=n,o=s(1001),c=(0,o.Z)(h,r,i,!1,null,"61f436ba",null),u=c.exports}}]);